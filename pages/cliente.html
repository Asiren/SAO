<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>SB Admin 2 - Bootstrap Admin Theme</title>

  <!-- Bootstrap Core CSS -->
  <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- MetisMenu CSS -->
  <link href="../vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

  <!-- DataTables CSS -->
  <link href="../vendor/datatables-plugins/dataTables.bootstrap.css" rel="stylesheet">

  <!-- DataTables Responsive CSS -->
  <link href="../vendor/datatables-responsive/dataTables.responsive.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link href="../dist/css/sb-admin-2.css" rel="stylesheet">

  <!-- Custom Fonts -->
  <link href="../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

  <div id="wrapper">

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">SAO</a>
            </div>
            <!-- /.navbar-header -->

            <ul class="nav navbar-top-links navbar-right">

                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-user">
                        <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
                        </li>
                        <li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
                        </li>
                        <li class="divider"></li>
                        <li><a href="login.html"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                        </li>
                    </ul>
                    <!-- /.dropdown-user -->
                </li>
                <!-- /.dropdown -->
            </ul>
            <!-- /. Menu -->

            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">
                        <li class="sidebar-search">
                            <div class="input-group custom-search-form">
                                <input type="text" class="form-control" placeholder="Buscar...">
                                <span class="input-group-btn">
                                    <button class="btn btn-default" type="button">
                                        <i class="fa fa-search"></i>
                                    </button>
                                </span>
                            </div>
                            <!-- /input-group -->
                        </li>
                        <li class="active">
                            <a href="home.html" class="active"><i class="fa fa-dashboard fa-fw"></i> Home</a>
                        </li>

                        <li>
                            <a href="vehiculos.html"><i class="fa fa-car fa-fw"></i> Vehiculos</a>
                        </li>
                        <li>
                            <a href="Sistemas.html"><i class="fa fa-user fa-fw"></i> Sistemas</a>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-file-text fa-fw"></i> Renta<span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                              <li>
                                  <a href="#"><i class="fa fa-edit fa-fw"></i> Arriendos</a>
                              </li>
                              <li>
                                  <a href="#"><i class="fa fa-edit fa-fw"></i> Devoluciones</a>
                              </li>
                            </ul>
                        </li>
                        <li>
                            <a href="vendedor.html"><i class="fa fa-user fa-fw"></i> Vendedores</a>
                        </li>
                        <li>
                            <a href="administradores.html"><i class="fa fa-user fa-fw"></i> Administradores</a>
                        </li>


                        <li>
                            <a href="#"><i class="fa fa-gear fa-fw"></i> Ajustes<span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">

                                <li>
                                    <a href="#">Ajustes de Vehiculos <span class="fa arrow"></span></a>
                                    <ul class="nav nav-third-level">
                                        <li>
                                            <a href="tipovehiculo.html">Tipos de Vehículos</a>
                                        </li>
                                        <li>
                                            <a href="marcavehiculo.html">Marcas de Vehículos</a>
                                        </li>
                                        <li>
                                            <a href="modelo.html">Modelos de Vehículos</a>
                                        </li>
                                        <li>
                                            <a href="#">Versiones de Vehículos</a>
                                        </li>
                                        <li>
                                            <a href="combustible.html">Tipos de Combustible</a>
                                        </li>
                                        <li>
                                            <a href="carroceria.html">Tipos de Carrocerias</a>
                                        </li>
                                        <li>
                                            <a href="transmision.html">Tipos de Transmisiones</a>
                                        </li>
                                        <li>
                                            <a href="traccion.html">Tipos de Tracciones</a>
                                        </li>

                                    </ul>
                                    <!-- /.nav-third-level -->
                                </li>
                                <li>
                                    <a href="region.html">Regiones</a>
                                </li>
                                <li>
                                    <a href="Ciudad.html">Ciudades</a>
                                </li>
                                <li>
                                    <a href="metodopago.html">Medios de Pago</a>
                                </li>



                            </ul>
                            <!-- /.nav-second-level -->
                        </li>

                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>


    <!-- Page Contenido -->
    <div id="page-wrapper">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-12">
            <h1 class="page-header">Administrador</h1>
          </div>
          <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
        <!-- Aquí va el contenido -->

        <div class="row">
          <div class="col-lg-12">
            <div class="panel panel-default">
              <div class="panel-heading">
                Lista de Administrador
              </div>
              <!-- /.panel-heading -->
              <div class="panel-body">
                <table width="100%" class="table table-striped table-bordered table-hover" id="tablita">
                  <thead>
                    <tr>
                      <th>Rut</th>
                      <th>Nombre</th>
                      <th>Apellido</th>
                      <th>Fecha de nacimineto</th>
                      <th>Telefono</th>
                      <th>Direccion 1</th>
                      <th>Direccion 2</th>
                      <th>Ciudad</th>
                      <th>Opciones</th>

                    </tr>
                  </thead>
                  <tbody>

                    <!-- El contenido de la tabla se carga con ajax -->


                  </tbody>
                </table>
                <!-- acá va el botón nuevo -->
                <div class="well">
                  <button type="button" class="btn btn-primary" id="btnNuevoNuevoCliente">
                      Nuevo Administrador
                    </button>
                </div>


                <!-- Ventana modal nuevo Vehiculo -->
                <div class="modal fade" id="modalNuevo" tabindex="-1" role="dialog" aria-labelledby="labelModalnuevo" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="labelModalnuevo">Nuevo Cliente</h4>
                      </div>
                      <div class="modal-body">
                        <!-- Ventana modal form nuevo Vehiculo -->

                        <form>

                          <div class="row">
                            <div class="col-lg-6">
                              <div class="form-group">
                                <label for="txtPatente">Rut</label>
                                <input type="text" class="form-control" id="txtRut" placeholder="Rut">
                              </div>
                            </div>
                            <div class="col-lg-6">
                              <label for="txtValor">Nombre</label>
                              <div class="input-group">
                                <input type="text" class="form-control" id="txtNOmbre" placeholder="Nombre">
                              </div>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col-lg-6">
                              <label for="txtValor">Apellido</label>
                              <div class="input-group">
                                <input type="text" class="form-control" id="txtApellido" placeholder="Apellido">
                              </div>
                            </div>
                            <div class="col-lg-6">
                              <label for="txtValor">Fecha Nac.</label>
                              <div class="input-group">
                                <input type="text" class="form-control" id="txtFechaNac" placeholder="Fecha de Nac.">
                              </div>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col-lg-6">
                              <label for="txtValor">Telefono</label>
                              <div class="input-group">
                                <input type="text" class="form-control" id="txtTelefono" placeholder="Telefono">
                              </div>
                            </div>

                            <div class="col-lg-6">
                              <label for="txtValor">Direcion 1</label>
                              <div class="input-group">
                                <input type="text" class="form-control" id="txtDireccion1" placeholder="Direccion 1">
                              </div>
                            </div>
                            <div class="col-lg-6">
                              <label for="txtValor">Direcion 2</label>
                              <div class="input-group">
                                <input type="text" class="form-control" id="txtDireccion2" placeholder="Direccion 2">
                              </div>
                            </div>

                            <div class="col-lg-4">
                              <label for="txtYear">Año</label>
                              <div class="input-group">
                                <span class="input-group-addon">$</span>
                                <input type="number" class="form-control" id="txtYear" placeholder="Año" min="1900" max="2018">
                              </div>
                            </div>

                          </div>


                        </form>




                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-primary" id="btnGuardarNuevo">Guardar</button>
                      </div>
                    </div>
                    <!-- /.modal-content -->
                  </div>
                  <!-- /.modal-dialog -->
                </div>

                <!-- Ventana modal Editar Vehiculo -->
                <div class="modal fade" id="modalEditar" tabindex="-1" role="dialog" aria-labelledby="labelModalEditar" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="labelModalEditar">Editar Vehículo</h4>
                      </div>
                      <div class="modal-body">
                        <!-- Ventana modal form Editar Vehiculo -->

                        <form>

                          <div class="row">
                            <div class="col-lg-6">
                              <div class="form-group">
                                <label for="txtEditarPatente">Patente</label>
                                <input type="text" class="form-control" id="txtEditarPatente" placeholder="Patente">
                              </div>
                            </div>
                            <div class="col-lg-6">
                              <label for="txtEditarValor">Valor</label>
                              <div class="input-group">
                                <span class="input-group-addon">$</span>
                                <input type="number" class="form-control" id="txtEditarValor" placeholder="Valor">
                              </div>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col-lg-4">
                              <div class="form-group">
                                <label for="selEditarEditarMarca">Marca</label>
                                <select class="form-control" id="selEditarEditarMarca">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                              </div>
                            </div>

                            <div class="col-lg-4">
                              <div class="form-group">
                                <label for="selEditarModelo">Modelo</label>
                                <select class="form-control" id="selEditarModelo">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                              </div>
                            </div>

                            <div class="col-lg-4">
                              <div class="form-group">
                                <label for="selEditarVersion">Versión</label>
                                <select class="form-control" id="selEditarVersion">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                              </div>
                            </div>

                          </div>

                          <div class="row">
                            <div class="col-lg-4">
                              <div class="form-group">
                                <label for="selEditarTipo">Tipo de Vehículo</label>
                                <select class="form-control" id="selEditarTipo">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                              </div>
                            </div>

                            <div class="col-lg-4">
                              <div class="form-group">
                                <label for="txtEditarColor">Color</label>
                                <input type="text" class="form-control" id="txtEditarColor" placeholder="Color">
                              </div>
                            </div>

                            <div class="col-lg-4">
                              <label for="txtEditarYear">Año</label>
                              <div class="input-group">
                                <span class="input-group-addon">$</span>
                                <input type="number" class="form-control" id="txtEditarYear" placeholder="Año" min="1900" max="2018">
                              </div>
                            </div>

                          </div>


                        </form>

                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-primary">Guardar</button>
                      </div>
                    </div>
                    <!-- /.modal-content -->
                  </div>
                  <!-- /.modal-dialog -->
                </div>

                <!-- Ventana modal Detalle Vehiculo -->
                <div class="modal fade" id="modalDetalle" tabindex="-1" role="dialog" aria-labelledby="labelModalDetalle" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="labelModalDetalle">Detalle Vehículo</h4>
                      </div>
                      <div class="modal-body">
                        <!-- Ventana modal form Detalle Vehiculo -->

                        <form>

                          <div class="row">
                            <div class="col-lg-6">
                              <div class="form-group">
                                <label for="txtDetallePatente">Patente</label>
                                <input type="text" class="form-control" id="txtDetallePatente" placeholder="Patente" disabled>
                              </div>
                            </div>
                            <div class="col-lg-6">
                              <label for="txtDetalleValor">Valor</label>
                              <div class="input-group">
                                <span class="input-group-addon">$</span>
                                <input type="number" class="form-control" id="txtDetalleValor" placeholder="Valor" disabled>
                              </div>
                            </div>
                          </div>

                          <div class="row">
                            <div class="col-lg-4">
                              <div class="form-group">
                                <label for="selDetalleMarca">Marca</label>
                                <select class="form-control" id="selDetalleMarca" disabled>

                                </select>
                              </div>
                            </div>

                            <div class="col-lg-4">
                              <div class="form-group">
                                <label for="selDetalleModelo">Modelo</label>
                                <select class="form-control" id="selDetalleModelo" disabled disabled>
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                              </div>
                            </div>

                            <div class="col-lg-4">
                              <div class="form-group">
                                <label for="selDetalleVersion">Versión</label>
                                <select class="form-control" id="selDetalleVersion" disabled disabled>
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                              </div>
                            </div>

                          </div>

                          <div class="row">
                            <div class="col-lg-4">
                              <div class="form-group">
                                <label for="selDetalleTipo">Tipo de Vehículo</label>
                                <select class="form-control" id="selDetalleTipo" disabled>
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                </select>
                              </div>
                            </div>

                            <div class="col-lg-4">
                              <div class="form-group">
                                <label for="txtDetalleColor">Color</label>
                                <input type="text" class="form-control" id="txtDetalleColor" placeholder="Color" disabled>
                              </div>
                            </div>

                            <div class="col-lg-4">
                              <label for="txtDetalleYear">Año</label>
                              <div class="input-group">
                                <span class="input-group-addon">$</span>
                                <input type="number" class="form-control" id="txtDetalleYear" placeholder="Año" min="1900" max="2018" disabled>
                              </div>
                            </div>

                          </div>


                        </form>

                      </div>
                      <div class="modal-footer">

                        <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
                      </div>
                    </div>
                    <!-- /.modal-content -->
                  </div>
                  <!-- /.modal-dialog -->
                </div>


                <!-- Ventana modal Eliminar Vehiculo -->
                <div class="modal fade" id="modalEliminar" tabindex="-1" role="dialog" aria-labelledby="labelModalEliminar" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title" id="labelModalEliminar">Eliminar Vehículo</h4>
                      </div>
                      <div class="modal-body">
                        <!-- Ventana modal form Eliminar Vehiculo -->

                        Se eliminará el vehículo con Patente: <strong>ejemplo</strong>


                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-danger">Eliminar</button>
                      </div>
                    </div>
                    <!-- /.modal-content -->
                  </div>
                  <!-- /.modal-dialog -->
                </div>



              </div>
              <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
          </div>
          <!-- /.col-lg-12 -->
        </div>



      </div>
      <!-- /.container-fluid -->
    </div>
    <!-- /#page-wrapper -->

  </div>
  <!-- /#wrapper -->

  <!-- jQuery -->
  <script src="../vendor/jquery/jquery.min.js"></script>

  <!-- Bootstrap Core JavaScript -->
  <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>

  <!-- Metis Menu Plugin JavaScript -->
  <script src="../vendor/metisMenu/metisMenu.min.js"></script>

  <!-- DataTables JavaScript -->
  <script src="../vendor/datatables/js/jquery.dataTables.min.js"></script>
  <script src="../vendor/datatables-plugins/dataTables.bootstrap.min.js"></script>
  <script src="../vendor/datatables-responsive/dataTables.responsive.js"></script>

  <!-- Custom Theme JavaScript -->
  <script src="../dist/js/sb-admin-2.js"></script>


  <!-- inicialización de la tabla  -->
  <script>
    $(document).ready(function() {

      //carga la tabla con datos desde ajax
      var table = $('#tablita').DataTable({

        "ajax": {
          "url": "http://desarrolloweb.us-west-2.elasticbeanstalk.com/rentacar/personaportipo/3",
          "dataSrc": ""
        }, //llama al controller del backEnd
        "columns": [ //define que campos del json se cargarán en las distintas columnas
          {
            "data": "rut"
          }, //define donde buscar los datos para la columna 0
          {
            "data": "nombre"
          }, //define donde buscar los datos para la columna 1
          {
            "data": "apellido"
          }, //define donde buscar los datos para la columna 2
          {
            "data": "fechaNacimiento"
          },
          {
            "data": "telefono"
          },
          {
            "data": "direccion1"
          },
          {
            "data": "direccion2"
          },
          {
            "data": "ciudad.nombreCiudad"
          },  //define donde buscar los datos para la columna 3
        ],
        rowId: 'idPersona', //define cual es el campo del json que será el id de la fila
        "columnDefs": [{ //define una columna distinta
          "targets": 8, // la columna 4 (de los botones) no cargará datos desde el json pero si define contenido por defecto
          "data": null,
          "defaultContent": "<button type='button' id='btnDetalleModal' class='btn btn-success btn-circle' ><i class='fa fa-search'></i></button>" +
            "<button type='button' id='btnEditarModal' class='btn btn-warning btn-circle' data-toggle='modal' data-target='#modalEditar'><i class='fa fa-pencil'></i></button>" +
            "<button type='button' id='btnEliminarModal' class='btn btn-danger btn-circle' data-toggle='modal' data-target='#modalEliminar'><i class='fa fa-trash-o'></i></button>"

        }],
        responsive: true //transforma la tabla en responsiva, cuando cambia el tamaño se agrupan las filas
      });



      //Funcion jquery Nuevo
      $("#btnNuevoNuevoCliente").click(function() {

        $('#selMarca').empty(); // se vacían los selects
        $('#selModelo').empty();
        $('#selVersion').empty();
        $('#selTipo').empty();

        //carga select marca
        $.ajax({
          url: 'http://desarrolloweb.us-west-2.elasticbeanstalk.com/rentacar/marca/',
          dataType: 'json',
          error: function() {
            alert("Error en la petición");
          }
        }).done(function(marcas) {
          $.each(marcas, function(i, item) {
            $('#selMarca')
              .append($('<option>', {
                value: item.idMarca,
                text: item.nombreMarca
              }));
          });

        });

        //carga select Tipo de Vehículos
        $.ajax({
          url: 'http://desarrolloweb.us-west-2.elasticbeanstalk.com/rentacar/tipovehiculo/',
          dataType: 'json',
          error: function() {
            alert("Error en la petición");
          }
        }).done(function(tipos) {
          $.each(tipos, function(i, item) {
            $('#selTipo')
              .append($('<option>', {
                value: item.idTipoVehiculo,
                text: item.nombreTipoVehiculo
              }));
          });

        });

        $('#modalNuevo').modal('toggle') //abre o cierra la ventana modal
      });


      //carga select Modelos
      $("#selMarca").on('focus change', function() {

        $('#selModelo').empty();
        $('#selVersion').empty();

        var idMarca = $("#selMarca").val();

        $.ajax({
          url: 'http://desarrolloweb.us-west-2.elasticbeanstalk.com/rentacar/modelo/' + idMarca,
          dataType: 'json',
          error: function() {
            alert("Error en la petición");
          }
        }).done(function(tipos) {
          $.each(tipos, function(i, item) {
            $('#selModelo')
              .append($('<option>', {
                value: item.idModelo,
                text: item.nombreModelo
              }));
          });

        });


      });


      //carga select Versiones
      $("#selModelo").on('focus change', function() {

        $('#selVersion').empty();
        var idModelo = $("#selModelo").val();

        $.ajax({
          url: 'http://desarrolloweb.us-west-2.elasticbeanstalk.com/rentacar/version/' + idModelo,
          dataType: 'json',
          error: function() {
            alert("Error en la petición");
          }
        }).done(function(versiones) {
          $.each(versiones, function(i, item) {
            $('#selVersion')
              .append($('<option>', {
                value: item.idVersion,
                text: item.nombre
              }));
          });

        });


      });



      //funcion jquery detalle
      $('table').on('click', '#btnDetalleModal', function() {

        var idVehiculo = table.row($(this).parents('tr')).id(); //obtengo el id de la fila en la que estaba el boton que hizo click

        $.ajax({
          url: 'http://desarrolloweb.us-west-2.elasticbeanstalk.com/rentacar/vehiculo/' + idVehiculo, //llamo al controller get y le paso el id
          dataType: 'json',
          error: function() {
            alert("Error en la petición"); //si no obtengo datos arrojo una alerta
          }
        }).done(function(data) { // si es satisfactorio en la variable data quedará el objeto con los datos en formato json

          $("#txtDetallePatente").val(data.patente); //cargo datos al input text
          $("#txtDetalleValor").val(data.valor);

          $('#selDetalleMarca') //cargo datos a un select
            .empty() //primero dejo el select vacío
            .append($('<option>', { //cargo una sola option en el select con su value y su text
              value: data.version.modelo.marca.idMarca,
              text: data.version.modelo.marca.nombreMarca
            }));

          $('#selDetalleModelo')
            .empty()
            .append($('<option>', {
              value: data.version.modelo.idModelo,
              text: data.version.modelo.nombreModelo
            }));

          $('#selDetalleVersion')
            .empty()
            .append($('<option>', {
              value: data.version.idVersion,
              text: data.version.nombre
            }));

          $('#selDetalleTipo')
            .empty()
            .append($('<option>', {
              value: data.tipoVehiculo.idTipoVehiculo,
              text: data.tipoVehiculo.nombreTipoVehiculo
            }));
          $("#txtDetalleColor").val(data.color);
          $("#txtDetalleYear").val(data.año);



          //$.each(function(i, valor){
          //   texto += "<option value='"+i+"'>"+valor+"</option>";
          // });
          //Agregamos en el id "idprovincia" el valor que tenga la variable texto. (todas las provincias).
          // $("#idprovincia").html(texto);

          $('#modalDetalle').modal('toggle') //abre o cierra la ventana modal

        });

      });


      //Funcion Guardar Nuevo Vehiculo

      $('#btnGuardarNuevo').click(function(event) {

        var patente = $("#txtPatente").val();
        var valor = $("#txtValor").val();
        var year = $("#txtYear").val();
        var color = $("#txtColor").val();
        var tipo = $("#selTipo").val();
        var version = $("#selVersion").val();

        var obj ={

                  patente: patente,
                  valor: valor,
                  año: year,
                  color: color,
                  tipoVehiculo: {
                  idTipoVehiculo: tipo
                },
                  version: {
                  idVersion: version

                  }
              }


        alert(obj.patente +" "+
obj.valor +" "+
obj.año +" "+
obj.color +" "+
obj.tipoVehiculo.idTipoVehiculo +" "+
obj.version.idVersion
      );

        $.ajax({
          type: "POST",
          data: JSON.stringify(obj),
          url: "http://desarrolloweb.us-west-2.elasticbeanstalk.com/rentacar/vehiculo/",
          contentType: "application/json",
          success: function(response) {
            table.ajax.reload();//recarga el json
            table.draw(); //vuelve a generar la tabla

           $('#modalNuevo').modal('hide');
          }
        }).fail(function($xhr) {
          var data = $xhr.responseJSON;

        });


      });


    });
  </script>

</body>

</html>
